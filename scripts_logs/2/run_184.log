[2025-11-14 18:47:28,138] INFO: Task received by worker
[2025-11-14 18:47:28,139] INFO: Starting task: AI Product Analyzer
[2025-11-14 18:47:28,139] DEBUG: Input data: {
  "AI_MODEL": "claude"
}
[2025-11-14 18:47:28,227] INFO: CLI Processor initialized
[2025-11-14 18:47:28,227] INFO: 
============================================================
[2025-11-14 18:47:28,227] INFO: STARTING PRODUCT PROCESSING PIPELINE
[2025-11-14 18:47:28,227] INFO: ============================================================

[2025-11-14 18:47:28,257] ERROR: Task failed: name 'logger' is not defined
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/ai_product_analyzer.py", line 59, in start_processing
    self._process_products()
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/ai_product_analyzer.py", line 79, in _process_products
    logger.info("=" * 60)
    ^^^^^^
NameError: name 'logger' is not defined. Did you mean: 'self.logger'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/tasks.py", line 45, in execute_script_task
    result = analyze_products(run, script, input_data, logger, writer)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/local.py", line 182, in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/app/trace.py", line 737, in __protected_call__
    return orig(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/app/task.py", line 411, in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/tasks.py", line 191, in analyze_products
    analyzer.start_processing()
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/ai_product_analyzer.py", line 74, in start_processing
    logger.error(f"Pipeline error: {str(e)}", exc_info=True)
    ^^^^^^
NameError: name 'logger' is not defined. Did you mean: 'self.logger'?

