[2025-11-15 00:40:15,945] INFO: Task received by worker
[2025-11-15 00:40:15,945] INFO: Starting task: AI Product Analyzer
[2025-11-15 00:40:15,946] DEBUG: Input data: {
  "AI_MODEL": "claude"
}
[2025-11-15 00:40:16,038] INFO: CLI Processor initialized
[2025-11-15 00:40:16,039] INFO: STARTING PRODUCT PROCESSING PIPELINE
[2025-11-15 00:40:16,039] INFO: ==============================
[2025-11-15 00:40:16,039] INFO: STAGE 1: IMPORTING DATA
[2025-11-15 00:40:16,039] INFO: ==============================
[2025-11-15 00:40:16,040] INFO: ✅ Successfully imported 10 products from JSON
[2025-11-15 00:40:16,040] INFO: STAGE 2-3: PROCESSING PRODUCTS (TITLE GENERATION + PRICE FETCHING)
[2025-11-15 00:40:16,040] INFO: [1/10] Processing: Canon Printer Cartridge Pixma 561 XL
[2025-11-15 00:40:16,041] INFO: → Generating AI title...
[2025-11-15 00:40:17,876] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:17,880] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:17,880] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:17,881] INFO: [2/10] Processing: Two Empty Ink Canon Printer Cartridges . (Collect Brentford Tw8 0de)
[2025-11-15 00:40:17,881] INFO: → Generating AI title...
[2025-11-15 00:40:19,106] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:19,108] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:19,108] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:19,109] INFO: [3/10] Processing: Canon Printer Cartridge XL 540
[2025-11-15 00:40:19,109] INFO: → Generating AI title...
[2025-11-15 00:40:20,329] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:20,331] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:20,331] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:20,339] INFO: [4/10] Processing: Brand new canon printer and cartridges
[2025-11-15 00:40:20,339] INFO: → Generating AI title...
[2025-11-15 00:40:21,354] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:21,356] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:21,356] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:21,365] INFO: [5/10] Processing: Canon Ink cartridges mixed bundle-open to offers
[2025-11-15 00:40:21,365] INFO: → Generating AI title...
[2025-11-15 00:40:22,583] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:22,585] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:22,585] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:22,594] INFO: [6/10] Processing: Canon Printer Cartridges
[2025-11-15 00:40:22,594] INFO: → Generating AI title...
[2025-11-15 00:40:23,607] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:23,609] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:23,609] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:23,618] INFO: [7/10] Processing: 5 x Canon Pixma multipack printer cartridges
[2025-11-15 00:40:23,618] INFO: → Generating AI title...
[2025-11-15 00:40:24,835] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:24,837] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:24,837] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:24,845] INFO: [8/10] Processing: FS: Brand New Sealed Genuine Canon Cartridge 312 Printer Black Toner for LBP3050 LBP3100 LBP3150
[2025-11-15 00:40:24,845] INFO: → Generating AI title...
[2025-11-15 00:40:26,678] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:26,680] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:26,680] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:26,689] INFO: [9/10] Processing: Canon Ink Cartridges
[2025-11-15 00:40:26,689] INFO: → Generating AI title...
[2025-11-15 00:40:34,505] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:34,508] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:34,508] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:34,516] INFO: [10/10] Processing: Canon imageprograf PRO-300 printer
[2025-11-15 00:40:34,517] INFO: → Generating AI title...
[2025-11-15 00:40:35,690] ERROR: Error generating title: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/title_generator.py", line 38, in generate_title
    success, response, error = retry_with_backoff(ai_call)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/ai_product_analyzer/retry_with_backoff.py", line 23, in retry_with_backoff
    payload = json.loads(str(e).split(":", 1)[-1].strip())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2025-11-15 00:40:35,692] INFO: → Fetching Amazon prices for sub-products...
[2025-11-15 00:40:35,692] WARNING: No sub-products identified, skipping price fetch
[2025-11-15 00:40:35,700] INFO: 
✅ Processing complete for all 10 products
[2025-11-15 00:40:35,702] INFO: ✅ PIPELINE COMPLETED SUCCESSFULLY
[2025-11-15 00:40:35,706] INFO: Task completed successfully
