[2025-11-11 15:52:03,658] INFO: Task received by worker
[2025-11-11 15:52:03,661] INFO: Starting task: Facebook Marketplace Scraper
[2025-11-11 15:52:03,662] DEBUG: Input data: {
  "cities": [
    "berlin"
  ],
  "query": "Canon Printer Cartridge",
  "last_n_days": 7,
  "listings_per_city": 100
}
[2025-11-11 15:52:03,669] INFO: AADSASDASDASDASDASSDFSDFSDKFHSDKJFHKDSHKJHkjhjhkjhkj
[2025-11-11 15:52:03,679] ERROR: Task failed: name 'Run' is not defined
Traceback (most recent call last):
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/tasks.py", line 43, in execute_script_task
    result = scrape_facebook_marketplace(run_id, input_data, logger)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/local.py", line 182, in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/app/trace.py", line 737, in __protected_call__
    return orig(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/venv/lib/python3.12/site-packages/celery/app/task.py", line 411, in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/tasks.py", line 189, in scrape_facebook_marketplace
    facebook_scraper = FacebookMarketplaceScraper(run_id, input_data, logger)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/akhliddin/Desktop/ScriptifyBackend/apps/scripts/facebook_scraper/facebook_scraper_main.py", line 42, in __init__
    run = Run.objects.get(id=run_id)
          ^^^
NameError: name 'Run' is not defined

